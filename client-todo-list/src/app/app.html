<h2>Create a Task</h2>
<div class="form-panel">
  <form (ngSubmit)="submit()">
    <input [(ngModel)]="task.title" name="title" placeholder="Title" required />

    <textarea [(ngModel)]="task.content" name="content" placeholder="Content" required></textarea>

    <select [(ngModel)]="task.importance" name="importance" required>
      <option value="" disabled selected>Select Importance</option>
      <option value="Low">Low</option>
      <option value="Medium">Medium</option>
      <option value="High">High</option>
    </select>

    <label for="dueDate">Due Date:</label>
    <input
      type="date"
      [(ngModel)]="task.dueDate"
      name="dueDate"
      required
    />
    <button type="submit">Create</button>

  </form>
</div>

<h2>List of Tasks</h2>
<ul>
  <li *ngFor="let n of tasks">
    <strong>{{ n.title }}</strong> — {{ n.content }} — {{ n.completed }} — {{ n.importance }} —  {{ getRelativeDate(n.dateCreation ?? '') }}—  {{ getRelativeDueDate(n.dueDate) }}
    <button
      [ngClass]="n.completed ? 'btn-grey' : 'btn-blue'"
      (click)="n.completed ? removeTaskFromCompleted(n) : setTaskCompleted(n)">
      {{ n.completed ? 'Remove from completed' : 'Set Completed' }}
    </button>
  </li>
</ul>

<router-outlet />
